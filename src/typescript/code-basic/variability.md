# Ковариантность и контравариантность

## Ковариативность

Если мы передадим возвращающую `number` функцию для колбека-сортировки, которая ожидает возврата `-1 | 0 | 1`, мы получим ошибку
`Type 'number' is not assignable to type '0 | 1 | -1'`

Множество значений из объединения трех литеральных типов, является подмножеством типа `number`, но он должен быть либо таким же, либо более узким.
Такой тип проверки называется *Ковариантность*

## Контравариантность

Для аргументов функции проверка типов выполняется в обратном порядке. 
Если мы передадим функцию, которая ожидает литеральный тип `1` вместо `number`, то получим ошибку 
`Type 'number' is not assignable to type '1'`

```ts
type ComparatorCallback = (item1: number, item2: number) => -1 | 0 | 1
declare function sort(arr: Array<number>, callback: ComparatorCallback): Array<number>

const arr = [1, 2, 3];
const comparator = (item1: 1, item2: number) => Math.sign(item1 - item2) as -1 | 0 | 1;

sort(arr, comparator); // Type 'number' is not assignable to type '1'.
```

Тип `1` является подмножеством типа `number`, и в примере мы передаем в ф-цию `sort`, которая ожидает более узкий тип на входе.

Когда мы передаем аргументы в ф-цию, то ожидаемые типы параметров должны быть более широкими, чем фактические.
Такое поведение проверки типов называется *контравариантностью*.

